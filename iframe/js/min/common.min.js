function onDOMReady(){sendMessage("getAnimation")}window.addEventListener("message",function(a){if(a.data&&a.data.IV_WIDGET_MSG)switch(delete a.data.IV_WIDGET_MSG,a.data.HOST_NAME&&(host=a.data.HOST_NAME,delete a.data.HOST_NAME),a.data.requestType){case"putAnimation":trackLeaderboardStat({stat:"display_widget",data:a.data.modalAnimation}),animations[a.data.modalAnimation].init(a.data).start()}});var sendMessage=function(a,b){b||(b={}),b.requestType=a,b.IV_IFRAME_MSG=!0,parent.postMessage(b,"*")},trackLeaderboardStat=function(a){if(a||(a={}),a.stat||(a.stat="unknown"),a.data||(a.data=null),a.callback||(a.callback=function(){}),host){var b={campaign:"internetvote",stat:a.stat,data:a.data,host:host,session:session},c="";for(var d in b)0!==c.length&&(c+="&"),c+=d+"="+b[d];var e=new XMLHttpRequest,f="https://fftf-host-counter.herokuapp.com/log";e.open("POST",f,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var b=JSON.parse(e.responseText);a.callback(b)}},e.send(c)}},guid=function(){var a=function(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b};return a()+a(!0)+a(!0)+a()},readyState=document.readyState;"interactive"===readyState||"complete"===readyState?onDOMReady():document.addEventListener("DOMContentLoaded",onDOMReady);var host=null,session=guid();